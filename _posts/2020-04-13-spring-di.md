---
layout: blog
title: Dependency Injection là gì  ?
category: blog
tags: [spring]
summery: Dependency Injection  
image: /images/blog/spring.png
youtubeId: 2BfSQhBNhkY
---
 
Chào ban , chắc hẳn bạn cảm thấy khó hiểu về Dependency Injection (DI) là gì đúng không? Có phải bạn không rõ khái niệm của nó trong lập trình?
Tại sao chúng ta cần DI ? Các loại DI có trong lập trình ? Và cuối cùng là lợi ích khi sử dụng DI.

## Dependency Injection là gì ?

Trước hết mình hãy phân tích từ Dependency(phụ thuộc) nghĩa là gì ? Anh lấy ví dụ trong thực tế . Khi mình đi làm thì mình có thể dùng phương tiện di
chuyển là xe máy để đến công ty. Như vậy để đạt được mục đích đến công ty thì anh phải  bắt buộc có chiếc xe máy để hoàn thành nhiệm vụ của mình
Như vậy anh đang phụ thuộc vào chiếc xe máy.

Tương tự như vậy trong lập trình, ví dụ anh viết một chức năng cho  giáo có thể xem kết quả điểm thi của từng học sinh. Như vậy trong
lớp giáo viên , anh phải có đối tượng sinh viên để anh có thể lấy được kết quả thi của bạn sinh viên đó. Như vậy lớp giáo viên phụ thuộc vào
lớp sinh viên vì nếu không có đối tượng sinh viên được khai báo trong lớp giáo viên , thì giáo viên không thể lấy được điểm của sinh viên.

Student

{% highlight java linenos %}
public class Student {
    private String name;
    private float mark;
    
    public Student(){
    
    }
    
    public float getStudentMark() {
        return mark;
    }
}
{% endhighlight %}

Teacher 
 
{% highlight java linenos  %}
public class Teacher  {
    private String name;
    private Student student;
    
    public Teacher(){
        student = new Student()
    }
    
    public float getStudentMark() {
        return student.getStudentMark();
    }
}
{% endhighlight %}

Như các bạn thấy trong lớp Teacher dòng số 6. Mình khai báo đối tượng Student trong lớp Teacher để mình có thể sử dụng được phương thức 
getStudentMark() phụ vụ cho việc xem điểm của giáo viên

Tiếp đến mình đi khái niêm Injection là gì ?
Như các bạn thấy tại dòng số 6 của class Teacher . Để sử dụng được chức năng getStudentMark() trong đối tượng sinh viên thì mình phải 
sử dụng toán tử new để tạo ra đối tượng Student trước khi sử dụng các phương thức có trong Student. Vậy có thể hiểu Injection là mình giao
cho một ai đó (ví dụ spring framework chẳng hạn) khởi tạo object và nhúng object đó và các Dependency đang dùng.

Nói cách khác, ở ví dụ trên mình giao cho framework (Spring) khởi tạo đối tượng Student và nhúng đối tượng Student vào đối tượng 
Teacher mà ta không cần dung toán tử new mà giao cho Spring quản lý.

## Tại sao chúng ta cần Dependency Injection
1. Giảm sự phụ thuộc giữa các module, object giúp cho việc mở rộng code sau này của ta được dể dàng
2. Do các module , object là độc lập nên ta có thể viết unit test dể dàng cho từng module
3. Giúp chúng ta tập trung vào việc viết logic business (nghiệp vụ) của ứng dụng còn việc tạo và quản lý các đối tượng mình giao
cho framework lo 

## Các loại DI có trong lập trình
Có 3 cách để chúng ta có thể Dependency Injection (nhúng một object và một object khác)
1. Thông qua constructor
2. Thông qua setter và getter method
3. Thông qua interface

{% highlight java linenos %}

class Teacher {
  private Student student;
  // Dựa vào constructor
  Teacher (Student student) {
    this.student = student;
    
  }
  
  // Dựa vào Setter method
  void setStudent(Student student){
    this.student = student;
  }
  
}
{% endhighlight %}

## Nói tóm lại nhiệm vụ của Dependency Injection là ?
1. Tạo đối tượng
2. Biết được class nào cần đối tượng đó mà nhúng vào


{% include youtubePlayer.html id=page.youtubeId %}